<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Stargate::Operation::RowOperation
  
    &mdash; Documentation by YARD 0.7.3
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (R)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Stargate.html" title="Stargate (module)">Stargate</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Operation.html" title="Stargate::Operation (module)">Operation</a></span></span>
     &raquo; 
    <span class="title">RowOperation</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Stargate::Operation::RowOperation
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Client.html" title="Stargate::Client (class)">Client</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/stargate/operation/row_operation.rb</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="CONVERTER-constant" class="">CONVERTER =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;amp;</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;lt;</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;gt;</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>'</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;apos;</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;quot;</span><span class='tstring_end'>'</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
    </dl>
  





  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#create_row-instance_method" title="#create_row (instance method)">- (true, false) <strong>create_row</strong>(table_name, name, timestamp = nil, columns = nil) </a>
    

    
  </span>
  
  
  
  
  <span class="deprecated note title">Deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'><p>
Use the <span class='object_link'><a href="#set-instance_method" title="Stargate::Operation::RowOperation#set (method)">#set</a></span> method instead
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_row-instance_method" title="#delete_row (instance method)">- (Object) <strong>delete_row</strong>(table_name, name, timestamp = nil, columns = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Delete a row in HBase.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-instance_method" title="#get (instance method)">- (Model::Row) <strong>get</strong>(table_name, row, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get a row from HBase.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#multi_get-instance_method" title="#multi_get (instance method)">- (Object) <strong>multi_get</strong>(table_name, rows, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set-instance_method" title="#set (instance method)">- (true, false) <strong>set</strong>(table_name, row, columns, timestamp = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Add a row to HBase.
</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#show_row-instance_method" title="#show_row (instance method)">- (Model::Row) <strong>show_row</strong>(table_name, name, timestamp = nil, columns = nil, options = {}) </a>
    

    
  </span>
  
  
  
  
  <span class="deprecated note title">Deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'><p>
Use the <span class='object_link'><a href="#get-instance_method" title="Stargate::Operation::RowOperation#get (method)">#get</a></span> method instead
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="create_row-instance_method">
  
    - (<tt>true</tt>, <tt>false</tt>) <strong>create_row</strong>(table_name, name, timestamp = nil, columns = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'><p>
Use the <span class='object_link'><a href="#set-instance_method" title="Stargate::Operation::RowOperation#set (method)">#set</a></span> method instead
</p>
</div></div>
<p>
Add a row to HBase
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='id client'>client</span> <span class='op'>=</span> <span class='const'>Stargate</span><span class='op'>::</span><span class='const'>Client</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://localhost:8080</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
 <span class='id client'>client</span><span class='period'>.</span><span class='id create_row'>create_row</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test-hbase-stargate</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>row1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>col1:cell1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:value</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>row2-col1-cell1</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>col1:cell2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:value</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>row2-col1-cell2</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>table_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The HBase table name
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The row id
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>timestamp</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
optional timestamp argument. Can be any custom value (in seconds), but
HBase uses the time since epoch.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>columns</span>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt>Array&lt;Hash&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true or false depending on whether the row was added successfully
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stargate/operation/row_operation.rb', line 121</span>

<span class='kw'>def</span> <span class='id create_row'>create_row</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id columns'>columns</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='comment'># Changing from Ruby epoch time (seconds) to Java epoch time (milliseconds)
</span>  <span class='id timestamp'>timestamp</span> <span class='op'>=</span> <span class='id timestamp'>timestamp</span><span class='op'>*</span><span class='int'>1000</span> <span class='kw'>unless</span> <span class='id timestamp'>timestamp</span><span class='period'>.</span><span class='id nil?'>nil?</span>

  <span class='id handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id request'>request</span> <span class='op'>=</span> <span class='const'>Request</span><span class='op'>::</span><span class='const'>RowRequest</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span><span class='rparen'>)</span>
    <span class='id data'>data</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id columns'>columns</span>
      <span class='kw'>if</span> <span class='id columns'>columns</span><span class='period'>.</span><span class='id instance_of?'>instance_of?</span> <span class='const'>Array</span>
        <span class='id data'>data</span> <span class='op'>=</span> <span class='id columns'>columns</span>
      <span class='kw'>elsif</span> <span class='id columns'>columns</span><span class='period'>.</span><span class='id instance_of?'>instance_of?</span> <span class='const'>Hash</span>
        <span class='id data'>data</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id columns'>columns</span><span class='rbracket'>]</span>
      <span class='kw'>else</span>
        <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Column data should be given as an Array or Hash</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id xml_data'>xml_data</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;?xml version='1.0' encoding='UTF-8' standalone='yes'?&gt;&lt;CellSet&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id xml_data'>xml_data</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Row key='</span><span class='embexpr_beg'>#{</span><span class='const'>Base64</span><span class='period'>.</span><span class='id encode64'>encode64</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_content'>'&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id data'>data</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span>
      <span class='id escape_name'>escape_name</span> <span class='op'>=</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[&amp;&lt;&gt;'&quot;]</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id match'>match</span><span class='op'>|</span> <span class='const'>CONVERTER</span><span class='lbracket'>[</span><span class='id match'>match</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
      <span class='id xml_data'>xml_data</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Cell </span><span class='tstring_end'>&quot;</span></span>
      <span class='id xml_data'>xml_data</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>timestamp='</span><span class='embexpr_beg'>#{</span><span class='id timestamp'>timestamp</span><span class='rbrace'>}</span><span class='tstring_content'>' </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id timestamp'>timestamp</span>
      <span class='id xml_data'>xml_data</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>column='</span><span class='embexpr_beg'>#{</span><span class='const'>Base64</span><span class='period'>.</span><span class='id encode64'>encode64</span><span class='lparen'>(</span><span class='id escape_name'>escape_name</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_content'>'&gt;</span><span class='tstring_end'>&quot;</span></span>
      <span class='id xml_data'>xml_data</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Base64</span><span class='period'>.</span><span class='id encode64'>encode64</span><span class='lparen'>(</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id xml_data'>xml_data</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/Cell&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id xml_data'>xml_data</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/Row&gt;&lt;/CellSet&gt;</span><span class='tstring_end'>&quot;</span></span>

    <span class='const'>Response</span><span class='op'>::</span><span class='const'>RowResponse</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id rest_post_response'>rest_post_response</span><span class='lparen'>(</span><span class='id request'>request</span><span class='period'>.</span><span class='id create'>create</span><span class='lparen'>(</span><span class='id data'>data</span><span class='period'>.</span><span class='id map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id col'>col</span><span class='op'>|</span> <span class='id col'>col</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id xml_data'>xml_data</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:create_row</span><span class='rparen'>)</span><span class='period'>.</span><span class='id parse'>parse</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_row-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_row</strong>(table_name, name, timestamp = nil, columns = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Delete a row in HBase
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>table_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The HBase table name
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The row id
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>timestamp</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
optional timestamp value (deletes all timestamp if not specified)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>optional</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
list of specific columns to delete (deletes all columns if not specified)
</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stargate/operation/row_operation.rb', line 160</span>

<span class='kw'>def</span> <span class='id delete_row'>delete_row</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id columns'>columns</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id request'>request</span> <span class='op'>=</span> <span class='const'>Request</span><span class='op'>::</span><span class='const'>RowRequest</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span><span class='rparen'>)</span>
    <span class='id response'>response</span> <span class='op'>=</span> <span class='id rest_delete_response'>rest_delete_response</span><span class='lparen'>(</span><span class='id request'>request</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='id columns'>columns</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='const'>Response</span><span class='op'>::</span><span class='const'>RowResponse</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='symbol'>:delete_row</span><span class='rparen'>)</span><span class='period'>.</span><span class='id parse'>parse</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get-instance_method">
  
    - (<tt><span class='object_link'><a href="../Model/Row.html" title="Stargate::Model::Row (class)">Model::Row</a></span></tt>) <strong>get</strong>(table_name, row, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get a row from HBase
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='id client'>client</span> <span class='op'>=</span> <span class='const'>Stargate</span><span class='op'>::</span><span class='const'>Client</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://localhost:8080</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
 <span class='id client'>client</span><span class='period'>.</span><span class='id get'>get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test-hbase-stargate</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>row1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:timestamp</span> <span class='op'>=&gt;</span> <span class='int'>1321846232</span><span class='comma'>,</span> <span class='symbol'>:columns</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>col1:cell1</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:version</span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>table_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The HBase table name
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The row id
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
the options to retrieve the row with
</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="name">:timestamp</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>
A specific timestamp the rows should have
</p>
</div>
        </li>
      
        <li>
          <span class="name">:columns</span>
          <span class="type">(<tt>Array&lt;String&gt;</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>
List of columns to get
</p>
</div>
        </li>
      
        <li>
          <span class="name">:versions</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>
The number of versions to get back
</p>
</div>
        </li>
      
    </ul>
  

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Model/Row.html" title="Stargate::Model::Row (class)">Model::Row</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
object corresponding to the requested row, or nil if it could not be found
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stargate/operation/row_operation.rb', line 72</span>

<span class='kw'>def</span> <span class='id get'>get</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id row'>row</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id multi_get'>multi_get</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id row'>row</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id row'>row</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="multi_get-instance_method">
  
    - (<tt>Object</tt>) <strong>multi_get</strong>(table_name, rows, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stargate/operation/row_operation.rb', line 41</span>

<span class='kw'>def</span> <span class='id multi_get'>multi_get</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id rows'>rows</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id rows'>rows</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>String</span>
    <span class='id request'>request</span> <span class='op'>=</span> <span class='const'>Request</span><span class='op'>::</span><span class='const'>RowRequest</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id rows'>rows</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:timestamp</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id rows'>rows</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Array</span>

  <span class='kw'>end</span>
  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:version</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='int'>1</span>

  <span class='id handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id rows'>rows</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id rows'>rows</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='const'>Response</span><span class='op'>::</span><span class='const'>RowResponse</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id rest_get'>rest_get</span><span class='lparen'>(</span><span class='id request'>request</span><span class='period'>.</span><span class='id show'>show</span><span class='lparen'>(</span><span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:columns</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:show_row</span><span class='rparen'>)</span><span class='period'>.</span><span class='id parse'>parse</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id row'>row</span><span class='op'>|</span>
      <span class='id row'>row</span><span class='period'>.</span><span class='id table_name'>table_name</span> <span class='op'>=</span> <span class='id table_name'>table_name</span>
      <span class='id rows'>rows</span><span class='lbracket'>[</span><span class='id row'>row</span><span class='period'>.</span><span class='id name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id row'>row</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id rows'>rows</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set-instance_method">
  
    - (<tt>true</tt>, <tt>false</tt>) <strong>set</strong>(table_name, row, columns, timestamp = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Add a row to HBase
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='id client'>client</span> <span class='op'>=</span> <span class='const'>Stargate</span><span class='op'>::</span><span class='const'>Client</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://localhost:8080</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
 <span class='id client'>client</span><span class='period'>.</span><span class='id set'>set</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test-hbase-stargate</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>row1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>col1:cell1</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value for column 1, cell 1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>col1:cell2</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value 2</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>table_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The HBase table name
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The row id
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>columns</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
hash consisting of the keys as column names and their corresponding values
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>timestamp</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
optional timestamp argument. Can be any custom value (in seconds), but
HBase uses the time since epoch.
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true or false depending on whether the row was added successfully
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stargate/operation/row_operation.rb', line 18</span>

<span class='kw'>def</span> <span class='id set'>set</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id row'>row</span><span class='comma'>,</span> <span class='id columns'>columns</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='comment'># Changing from Ruby epoch time (seconds) to Java epoch time (milliseconds)
</span>  <span class='id timestamp'>timestamp</span> <span class='op'>=</span> <span class='id timestamp'>timestamp</span><span class='op'>*</span><span class='int'>1000</span> <span class='kw'>unless</span> <span class='id timestamp'>timestamp</span><span class='period'>.</span><span class='id nil?'>nil?</span>

  <span class='id cells'>cells</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id columns'>columns</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id value'>value</span><span class='op'>|</span>
    <span class='id escaped_name'>escaped_name</span> <span class='op'>=</span> <span class='id name'>name</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[&amp;&lt;&gt;'&quot;]</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id match'>match</span><span class='op'>|</span> <span class='const'>CONVERTER</span><span class='lbracket'>[</span><span class='id match'>match</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='id cell'>cell</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id cell'>cell</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@column</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id encode64'>encode64</span><span class='lparen'>(</span><span class='id escaped_name'>escaped_name</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
    <span class='id cell'>cell</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@timestamp</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id timestamp'>timestamp</span> <span class='kw'>unless</span> <span class='id timestamp'>timestamp</span><span class='period'>.</span><span class='id nil?'>nil?</span>
    <span class='id cell'>cell</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id encode64'>encode64</span><span class='lparen'>(</span><span class='id value'>value</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
    <span class='id cells'>cells</span> <span class='op'>&lt;&lt;</span> <span class='id cell'>cell</span>
  <span class='kw'>end</span>

  <span class='id request'>request</span> <span class='op'>=</span> <span class='const'>Request</span><span class='op'>::</span><span class='const'>RowRequest</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id row'>row</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span><span class='rparen'>)</span>
  <span class='id json_data'>json_data</span> <span class='op'>=</span> <span class='const'>Yajl</span><span class='op'>::</span><span class='const'>Encoder</span><span class='period'>.</span><span class='id encode'>encode</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Row</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@key</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id encode64'>encode64</span><span class='lparen'>(</span><span class='id row'>row</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id cells'>cells</span><span class='rbrace'>}</span><span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='id handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id row'>row</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id response'>response</span> <span class='op'>=</span> <span class='id rest_post_response'>rest_post_response</span><span class='lparen'>(</span><span class='id request'>request</span><span class='period'>.</span><span class='id create'>create</span><span class='lparen'>(</span><span class='id columns'>columns</span><span class='period'>.</span><span class='id keys'>keys</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id json_data'>json_data</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/json</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='const'>Response</span><span class='op'>::</span><span class='const'>RowResponse</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='symbol'>:create_row</span><span class='rparen'>)</span><span class='period'>.</span><span class='id parse'>parse</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="show_row-instance_method">
  
    - (<tt><span class='object_link'><a href="../Model/Row.html" title="Stargate::Model::Row (class)">Model::Row</a></span></tt>) <strong>show_row</strong>(table_name, name, timestamp = nil, columns = nil, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'><p>
Use the <span class='object_link'><a href="#get-instance_method" title="Stargate::Operation::RowOperation#get (method)">#get</a></span> method instead
</p>
</div></div>
<p>
Get a row from HBase
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='id client'>client</span> <span class='op'>=</span> <span class='const'>Stargate</span><span class='op'>::</span><span class='const'>Client</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://localhost:8080</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
 <span class='id row'>row</span> <span class='op'>=</span> <span class='id client'>client</span><span class='period'>.</span><span class='id show_row'>show_row</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test-hbase-stargate</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>row1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='symbol'>:version</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>table_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The HBase table name
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The row id
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>timestamp</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
optional timestamp
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>columns</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
name of the columns to retrieve. Use nil to get them all.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
the options to retrieve the row with
</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="name">:versions</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>
The number of versions to get back
</p>
</div>
        </li>
      
    </ul>
  

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Model/Row.html" title="Stargate::Model::Row (class)">Model::Row</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
object corresponding to the requested row, or nil if it could not be found
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stargate/operation/row_operation.rb', line 90</span>

<span class='kw'>def</span> <span class='id show_row'>show_row</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id columns'>columns</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:version</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='int'>1</span>

    <span class='id request'>request</span> <span class='op'>=</span> <span class='const'>Request</span><span class='op'>::</span><span class='const'>RowRequest</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id timestamp'>timestamp</span><span class='rparen'>)</span>
    <span class='id rows'>rows</span> <span class='op'>=</span> <span class='const'>Response</span><span class='op'>::</span><span class='const'>RowResponse</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id rest_get'>rest_get</span><span class='lparen'>(</span><span class='id request'>request</span><span class='period'>.</span><span class='id show'>show</span><span class='lparen'>(</span><span class='id columns'>columns</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:show_row</span><span class='rparen'>)</span><span class='period'>.</span><span class='id parse'>parse</span>
    <span class='kw'>if</span> <span class='id rows'>rows</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id row'>row</span> <span class='op'>=</span> <span class='id rows'>rows</span><span class='period'>.</span><span class='id first'>first</span>
      <span class='id row'>row</span><span class='period'>.</span><span class='id table_name'>table_name</span> <span class='op'>=</span> <span class='id table_name'>table_name</span>
      <span class='id row'>row</span>
    <span class='kw'>else</span>
      <span class='id rows'>rows</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id row'>row</span><span class='op'>|</span>
        <span class='id row'>row</span><span class='period'>.</span><span class='id table_name'>table_name</span> <span class='op'>=</span> <span class='id table_name'>table_name</span>
      <span class='kw'>end</span>
      <span class='id rows'>rows</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Nov 21 00:03:14 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.9.2).
</div>

  </body>
</html>